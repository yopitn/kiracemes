<%- include("./partials/header") %>

<div class="content__wrap">
  <%- include("./partials/sidebar") %>

  <main class="main__wrap">
    <div class="container">
      <div class="table__wrap">
        <div class="table__header">
          <div>Details</div>
          <div>Author</div>
          <div>Status</div>
          <div>Action</div>
        </div>

        <div class="table__content">
          <% if (posts.length > 0) { %>
          <% posts.forEach(post => { %>
          <div class="table__item" id="postId-<%- post.id %>">
            <a href="<%- blog.homepageUrl %>/admin/post/<%- post.id %>" class="post__link">
              <div class="post__detail">
                <% if (post.featuredImage()) { %>
                <div class="post__image" style="background-image: url('<%- post.featuredImage() %>');"></div>
                <% } else { %>
                <div class="post__image-letter"><%- post.title.charAt(0).toUpperCase() %></div>
                <% } %>

                <div class="post__content">
                  <div class="post__title">
                    <span class="title"><%- post.title %></span>
                  </div>

                  <div class="post__info">
                    <div class="post__category">
                      <% if (post.tags.length > 0) { %>
                      <% post.tags.forEach(tag => { %>
                      <span class="category"><%- tag.name %></span>
                      <% }) %>
                      <% } else { %>
                      <span class="category">Uncategory</span>
                      <% } %>
                    </div>

                    <div class="post__date">
                      <span class="date"><%- helpers.parseDate(post.date.created) %></span>
                    </div>
                  </div>
                </div>
              </div>
            </a>

            <a href="<%- blog.homepageUrl %>/admin/post/<%- post.id %>" class="post__link">
              <div class="post__author">
                <span class="text"><%- post.author %></span>
              </div>
            </a>

            <a href="<%- blog.homepageUrl %>/admin/post/<%- post.id %>" class="post__link">
              <div class="post__status">
                <span class="status <%- post.status %>"><%- post.status %></span>
              </div>
            </a>

            <div class="post__action">
              <div class="more">
                <svg viewBox="0 0 24 24">
                  <g transform="translate(2.000200, 1.999900)">
                    <path d="M14.34,-3.01980663e-14 C17.73,-3.01980663e-14 20,2.38 20,5.92 L20,5.92 L20,14.09 C20,17.62 17.73,20 14.34,20 L14.34,20 L5.67,20 C2.28,20 0,17.62 0,14.09 L0,14.09 L0,5.92 C0,2.38 2.28,-3.01980663e-14 5.67,-3.01980663e-14 L5.67,-3.01980663e-14 Z M14.48,8.801 C13.82,8.801 13.28,9.34 13.28,10 C13.28,10.66 13.82,11.2 14.48,11.2 C15.14,11.2 15.67,10.66 15.67,10 C15.67,9.34 15.14,8.801 14.48,8.801 Z M10,8.801 C9.34,8.801 8.8,9.34 8.8,10 C8.8,10.66 9.34,11.2 10,11.2 C10.66,11.2 11.2,10.66 11.2,10 C11.2,9.34 10.66,8.801 10,8.801 Z M5.52,8.801 C4.86,8.801 4.32,9.34 4.32,10 C4.32,10.66 4.86,11.2 5.52,11.2 C6.18,11.2 6.72,10.66 6.72,10 C6.72,9.34 6.18,8.801 5.52,8.801 Z"></path>
                  </g>
                </svg>
              </div>
            </div>
          </div>
          <% }) %>
          <% } else { %>
          <div class="table__noitem">
            <span class="text">No posts found</span>
          </div>
          <% } %>
        </div>
      </div>
    </div>
  </main>
</div>

<%- include("./partials/footer") %>